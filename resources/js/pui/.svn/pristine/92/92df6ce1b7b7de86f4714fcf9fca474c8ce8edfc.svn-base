KISSY.add("mod/connector",function(b,a){PW.namespace("mod.Connector");PW.mod.Connector=function(c){return new a(c);};},{requires:["connector/core"]});KISSY.add("connector/core",function(d,c){var b={url:"",type:"post",comment:""};function a(e){this._init(e);}d.augment(a,{_init:function(f){var e=this;for(var g in f){if(!d.isArray(f[g])){continue;}var h={};h[g]=new c(g,f[g]);d.mix(this,h);}}});return a;},{requires:["connector/module","core"]});KISSY.add("connector/module",function(c,d){var a=c.IO;function b(f,e){this.name=f;this._init(e);}c.augment(b,{_init:function(f){var e=this;c.each(f,function(g){if(c.isString(g[0])&&g[0]!=""&&c.isString(g[1])&&g[1]!=""){switch(g[2].toLowerCase()){case"post":case"delete":case"put":g[2]=g[2].toLowerCase();break;default:g[2]="get";}var h={};h[g[0]]=new d(g);c.mix(e,h);}});}});return b;},{requires:["connector/connection"]});KISSY.add("connector/connection",function(c){var a=c.IO,f=c.JSON,d=c.juicer,b=PW.modSettings.connector;var e=function(g){this.name=g[0];this.url=g[1];this.type=g[2];this.comment=g[3];this.loadingTip=g[4]||"";};c.augment(e,{send:function(j,k){var h=this,g,i={};g=h._getCompleteUrl(j);i={url:g,type:this.type,data:j,success:function(l){if(c.isString(l)){l=f.parse(l);}k(l);},error:function(l){k({code:-1,errorMsg:l});}};if(!h.loadingTip){a(i);}else{c.once(c.mix({hint:h.loadingTip},i));}},_getCompleteUrl:function(i){var g=this,j,h;j=d(g.url,i);h=g.getConnPrefix();return(h+j);},getConnPrefix:function(){var g=this;return(!b.debug)?b.deployUrlPrefix:b.debugUrlPrefix;}});return e;},{requires:["core","mod/juicer","mod/once"]});